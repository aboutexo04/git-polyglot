name: Test Translation Action

on:
  workflow_dispatch:

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      # ğŸš¨ (ì‚­ì œë¨) Create dummy README ë‹¨ê³„ëŠ” ì´ì œ ì—†ìŠµë‹ˆë‹¤!
      # ì´ì œ ì‚¬ìš©ìë‹˜ì´ ì‘ì„±í•œ ì§„ì§œ README.md íŒŒì¼ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

      - name: Run GitPolyglot
        uses: ./ 
        with:
          openrouter_api_key: ${{ secrets.OPENROUTER_API_KEY }}
          target_languages: 'ko'
          source_file: 'README.md'
          # ğŸ‘‡ ëª¨ë¸ ì´ë¦„ í™•ì¸: ì—¬ê¸°ëŠ” ë¬´ì¡°ê±´ Llamaì—¬ì•¼ í•©ë‹ˆë‹¤!
          model_name: 'meta-llama/llama-3.1-8b-instruct:free' 

      - name: Commit and Push changes
        run: |
          git config --global user.name "GitPolyglot Bot"
          git config --global user.email "bot@gitpolyglot.com"
          
          # íŒŒì¼ ëª©ë¡ í™•ì¸ (ë””ë²„ê¹…ìš©)
          ls -al 
          
          # ë²ˆì—­ëœ íŒŒì¼ë§Œ ì¶”ê°€
          git add README.ko.md
          
          # ë³€ê²½ì‚¬í•­ì´ ìˆìœ¼ë©´ ì»¤ë°‹, ì—†ìœ¼ë©´ ì—ëŸ¬ ë©”ì‹œì§€ ì¶œë ¥ ì—†ì´ ë„˜ì–´ê° (|| echo)
          # ì—ëŸ¬ë¥¼ ë³´ê³  ì‹¶ìœ¼ë©´ || echo ë¶€ë¶„ì„ ì§€ìš°ì…”ë„ ë©ë‹ˆë‹¤.
          git commit -m "Auto-translated README by GitPolyglot" || echo "No changes to commit"
          
          git push
